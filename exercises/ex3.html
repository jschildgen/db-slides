<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Datenbanken - Übungsblatt 3</title>
        <link rel="stylesheet" href="../exercises/exercises.css">
        <link href="../lib/fontawesome.all.min.css" rel="stylesheet">
        <link href="../src/erd.css" rel="stylesheet">
        <link rel="stylesheet" href="../lib/joint.min.css" />
    </head>
    <body>
        <header>
            <div>
            <div>
                <b>Datenbanken - WS 2021/22</b><br>
                Prof. Dr.-Ing. Johannes Schildgen<br>
                johannes.schildgen@oth-regensburg.de<br>
                <b>Übungsblatt 3 vom 29.10./03.11.2021</b>
            </div>
            <div><img src="../img/oth.png" style="border:0; height:50px"></div>
        </div>
        <hr>
        </header>

        <section style="padding-top: 2.5cm">
            <h1>Aufgabe 1: Relationenmodell (10P)</h1>
            <p>Abgabe-Deadline: 29.10.2021 9:00 im GRIPS</p>
            <p>Betrachten Sie das folgende Relationenschema eines Friseursalons:</p>
            
            <p>PERSONAL (<u>Vorname</u>, Tarifstufe)<br>
               KUNDEN (<u>Kundennr</u>, Name, Telefon)<br>
               TERMIN (<u>Datum, Uhrzeit, Personal</u>, Kunde)</p>
        
               <p>TERMIN.Personal ist Fremdschlüssel auf PERSONAL.Vorname<br>
            TERMIN.Kunde ist Fremdschlüssel auf KUNDEN.Kundennr</p>
        
                <p>Welche der folgenden Aussagen sind wahr? Jede richtige Antwort bei Fragen 1 bis 5 gibt es 1 Punkt, falsche Antworten geben keine Punktabzüge. Frage 6 gibt bis zu 5 Punkte.</p>
            
                    <table border="0" style="width: 100%">
            <tr>
                <td style="width:10mm">&nbsp;</td>
                <td>&nbsp;</td>
                <td style="text-align: center; width:15mm">Richtig</td>
                <td style="text-align: center; width:15mm">Falsch</td>
            </tr>
            <tr>
                <td>1.</td><td>Es darf nur eine Mitarbeiterin mit dem Vornamen Ute geben.</td>
                <td style="text-align: center"><i class="far fa-square"></i></td>
                <td style="text-align: center"><i class="far fa-square"></i></td>
            </tr>
            <tr>
                <td>2.</td><td>Es ist möglich, dass die Kundin 5 einen Termin bucht, obwohl es gar keine Kundin mit der Kundennummer 5 gibt.</td>
                <td style="text-align: center"><i class="far fa-square"></i></td>
                <td style="text-align: center"><i class="far fa-square"></i></td>
            </tr>
            <tr>
                <td>3.</td><td>Es ist möglich, dass ein Mitarbeiter überhaupt keine Termine hat.</td>
                <td style="text-align: center"><i class="far fa-square"></i></td>
                <td style="text-align: center"><i class="far fa-square"></i></td>
            </tr>
            <tr>
                <td>4.</td><td>Es ist möglich, dass ein Kunde am gleichen Tag zur gleichen Uhrzeit mehrere Termine hat.</td>
                <td style="text-align: center"><i class="far fa-square"></i></td>
                <td style="text-align: center"><i class="far fa-square"></i></td>
            </tr>
            <tr>
                <td>5.</td><td>In dem Tabellenschema gibt es einen zusammengesetzten Fremdschlüssel.</td>
                <td style="text-align: center"><i class="far fa-square"></i></td>
                <td style="text-align: center"><i class="far fa-square"></i></td>
            </tr>

            <tr>
                <td>6.</td>
                <td colspan="3">Überführen Sie das Relationenschema zurück in ein ER-Diagramm. Verwenden Sie die Chen-Notation.</td>
            </tr>
            
            </table>
              </section>

    <section style="page-break-inside:avoid; padding-top: 2.5cm">
        <h1>Aufgabe 2: ER-Diagramm &rightarrow; Relationenschema</h1>
        <p>Überführen Sie das folgende ER-Diagramm in ein Relationenschema. Dabei geht es um eine App, um sich mit dem Handy Essen an die aktuelle Position liefern zu lassen. Verwenden Sie zur Umsetzung der Generalisierung das Konzept der vertikalen Partitionierung.</p>
        <div style="height: 9cm; overflow: hidden; margin-left: -2.5cm">
                <div class="erd">
                        [[
                         { _e: "Bestellung", pos: [150, 100],
                          attributes: [
                           { _a:"Bestellnr", options:["primary"], pos: [89, 13] },
                           { _a:"Uhrzeit", pos: [245, 13] },
                           { _a:"Koordinaten", pos: [150, 190], attributes: [
                                {_a: "Lon", pos: [89, 270]},
                                {_a: "Lat", pos: [245, 270]}
                                ]
                            }
                            ]
                         },
                         { _e: "Gericht", pos: [430, 100],
                           attributes: [
                            { _a:"Nr", pos: [385, 25], options:["primary"] },
                            { _a:"Bezeichnung", pos: [510, 25]},
                            { _a:"Preis", pos: [610, 75] },
                            { _a:"Zutaten", options:["multi"], pos: [610, 150] }
                           ]
                         },
                         { _e: "Pizza", pos: [430, 277], isa:{_e:"Gericht"},
                           attributes: [
                            { _a:"Durchmesser", pos: [610, 274] }
                           ]
                         }
                        ],
                        [
                         { _r: "besteht aus", 
                           _e: ["Gericht", "Bestellung"],
                           card: ["N", "M"],
                           attributes: [{_a:"Anzahl", pos: [330, 190]}]
                         }
                        ]]
                                    </div></div>
    </section>  
        
        <!--
        <section style="padding-top: 2.5cm">
            <h1>Aufgabe 1: Relationale Algebra (10P)</h1>
            <p>Abgabe-Deadline: 29.10.2021 9:00 im Moodle</p>

            <p>Für die Bearbeitung dieses Übungsblattes können Sie das Tool RelaX verwenden: <a href="https://dbis-uibk.github.io/relax" target="_blank">https://dbis-uibk.github.io/relax</a>. Klicken Sie auf &quot;get started&quot; und wählen Sie links den Datensatz &quot;Kemper Datenbanksysteme&quot; aus. Achten Sie im RelaX-Tool auf Groß-Kleinschreibung der Tabellen- und Spaltennamen.</p>
            <p>Wir verwenden folgende Relationen:</p>
            <p>Professoren(<u>PersNr</u>, Name, Rang, Raum)<br>
               Studenten(<u>MatrNr</u>, Name, Semester)<br>
               Vorlesungen(<u>VorlNr</u>, Titel, SWS, gelesenVon)<br>
               hoeren(<u>MatrNr, VorlNr</u>)</p>
            <p>Vorlesungen.gelesenVon ist Fremdschlüssel auf Professoren.PersNr<br>
               hoeren.MatrNr ist Fremdschlüssel auf Studenten.MatrNr<br>
               hoeren.VorlNr ist Fremdschlüssel auf Vorlesungen.VorlNr</p>
            <p>Formulieren Sie die folgenden Anfragen mittels Ausdrücken der relationalen Algebra.</p>
            
            <table border="0" style="width: 100%; margin-top: -3mm;">
                <tr><td>1.</td><td>Wie heißt der Studierende mit der MatrNr 26830? (3P)</td></tr>
                <tr><td>2.</td><td>Welche Professoren (PersNr) halten keine Vorlesungen? (4P)</td></tr>
            <tr><td>3.</td><td>Wie ist der Name des Professors, der die Vorlesung &quot;Logik&quot; hält? (3P)</td></tr>
            </table>
        </section>
        
        <section>
            <h1>Aufgabe 2: Relationale Algebra</h1>
            <p>Formulieren Sie Ausdrücke der relationalen Algebra für die folgenden Aufgabenstellungen ebenfalls auf dem Relationenschema von Aufgabe 1:</p>
            <table border="0" style="width: 100%">
                
                <tr><td>4.</td><td>Welche Studierenden (Namen) heißen genau gleich wie ein Professor?</td></tr>
                <tr><td>5.</td><td>Welche Vorlesungen (VorlNr, Titel) werden von Studierenden gehört, die im zweiten Semester sind?</td></tr>
                <tr><td>6.</td><td>Welche Professoren (PersNr, Name) haben den gleichen Rang wie der Professor mit PersNr 2137? Geben Sie aber nicht den Professor 2137 aus!</td></tr>
            </table>
        </section>
        
        <section>
            <h1>Aufgabe 3: Relationenschema &rightarrow; ER-Diagramm</h1>
            <p>Überführen Sie das Relationenschema aus Aufgabe 1 (Professoren, Studenten, Vorlesungen, hoeren) zurück in ein ER-Diagramm. Verwenden Sie die Krähenfuß-Notation oder die Chen-Notation.</p>
        </section>
    -->
        
        <!--<section  style="page-break-inside:avoid; padding-top: 2.5cm">
            <h1>Aufgabe 3: Normalisierung</h1>
            <p>Bringen Sie die folgende Relation &quot;serien_folgen&quot; zuerst in 1NF, dann 2NF, dann 3NF. Kennzeichnen Sie Primärschlüssel und Fremdschlüssel.</p>
            <p>serien_folgen(<u>serie</u>, <u>staffel</u>, <u>folge</u>, titel, produzent, regisseur, sprache, {schauspieler})</p>
            <p>schauspieler ist ein mengenwertiges Attribut.</p>
            <p>Es gelten folgende funktionalen Abhängigkeiten:</p>
            <ul>
                <li>serie &rightarrow; produzent</li>
                <li>serie, staffel &rightarrow; regisseur</li>
                <li>serie, staffel, folge &rightarrow; titel</li>
                <li>produzent &rightarrow; sprache</li>
            </ul>
        </section>
        <section  style="page-break-inside:avoid; padding-top: 2.5cm">
            <h1>Aufgabe 4: Relationale Algebra</h1>
            <p>Erstellen Sie Ausdrücke der relationalen Algebra für folgende Fragestellungen auf dem 3NF-Schema, welches Sie in Aufgabe 3 erstellt haben:</p>
            <table border="0" style="width: 100%">
                <tr><td>1.</td><td>In welchen Folgen (Staffel, Folge) der Serie &quot;Die Hochschule&quot; hat die Schauspielerin &quot;Julia Robbe&quot; mitgespielt?</td></tr>
                <tr><td>2.</td><td>Wer war Regisseur der Serie &quot;Die Hochschule&quot; in der Staffel, die nach der Staffel folgte, als noch &quot;Petra von Parkplatz&quot; die Regie geführt hat.</td></tr>
            </table>
        </section>-->


<script src="../lib/jquery.js"></script>
<script src="../lib/lodash.js"></script>
<script src="../lib/backbone.js"></script>
<script src="../lib/joint.min.js"></script>
<script type="text/javascript">
Reveal = document;
Reveal.registerPlugin = function(pluginname, plugin) {
    plugin.init()
};
Reveal.addEventListener = function(event, f) {
    if(event == 'ready') {
        f();
    }
}
</script>
<script type="text/javascript" src="../src/erd.js"></script>

</body>
</html>