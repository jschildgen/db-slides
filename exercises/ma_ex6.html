<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Datenbanken - Übungsblatt 6</title>
    <link rel="stylesheet" href="../exercises/exercises.css">
    <link href="../lib/fontawesome.all.min.css" rel="stylesheet">
    <link href="../src/erd.css" rel="stylesheet">
    <link rel="stylesheet" href="../lib/joint.min.css" />
</head>
<body>
    <header>
        <div>
        <div>
            <b>Datenbanken - SS 2021</b><br>
            Prof. Dr.-Ing. Johannes Schildgen<br>
            johannes.schildgen@oth-regensburg.de<br>
            <b>Übungsblatt 6 vom 19./20./21.05.2021</b>
        </div>
        <div><img src="../img/oth.png" style="border:0; height:50px"></div>
    </div>
    <hr>
    </header>

<section style="padding-top: 2.5cm">
    <h1>Aufgabe 0: SQL Island (Bonusaufgabe, 10P)</h1>
    <p>Abgabe-Deadline: 19.05.2021 9:00 im Moodle</p>
    <p>Spielen Sie das Spiel SQL Island (<a href="http://www.sql-island.de" target="_blank">http://www.sql-island.de)</a> und lassen Sie sich zum Ende des Spiels ein Zertifikat generieren. Wenn Sie die darauf befindliche Zertifikat-ID im Moodle eintragen, erhalten Sie 10 Bonuspunkte.</p>
</section>

<section>
  <h1>Aufgabe 1: SQL SELECT-Anfragen (10P)</h1>
  <p>Abgabe-Deadline: 19.05.2021 9:00 im Moodle</p>
  <p>Auf der Webseite des Datenbankmanagementsystems Hyper können Sie SQL-Anfragen gegen das Uni-Schema aus dem Kemper-Datenbanksysteme-Buch stellen: <a href="http://hyper-db.de/interface.html" target="_blank">http://hyper-db.de/interface.html</a></p>
        <p>Professoren(<u>PersNr</u>, Name, Rang, Raum)<br>
            Studenten(<u>MatrNr</u>, Name, Semester)<br>
            Vorlesungen(<u>VorlNr</u>, Titel, SWS, gelesenVon)<br>
            hoeren(<u>MatrNr, VorlNr</u>)</p>
         <p>Vorlesungen.gelesen_von ist Fremdschlüssel auf Professoren.PersNr<br>
            hoeren.MatrNr ist Fremdschlüssel auf Studenten.MatrNr<br>
            hoeren.VorlNr ist Fremdschlüssel auf Vorlesungen.VorlNr</p>

        <p>Formulieren Sie die folgenden Anfragen mittels SQL. Richtige Antworten geben 5 Punkte. Für teilweise richtige Antworten können leider keine Teilpunkte gegeben werden, da ein automatisches Query-Bewertungssystem eingesetzt wird. Achten Sie daher auch darauf, dass keine Tippfehler in Ihren Anfragen sind.</p>

        <table border="0" style="width: 100%">
        <tr><td>1.</td><td>Wie ist der Name des Professors mit der persnr 2127? (5P)</td></tr>
        <tr><td>2.</td><td>Finden Sie alle Studierenden (alle Spalten ausgeben), deren Name mit einem F oder S anfangen. (5P)</td></tr>
        </table>
  </section> 

<section style="page-break-inside:avoid; padding-top: 2.5cm">
    <h1>Aufgabe 2: SQL-Anfragen in PostgreSQL</h1>
    <p>Wichtig: Um außerhalb des Hochschulnetzwerks auf die PostgreSQL-Datenbank der OTH Regensburg zuzugreifen, müssen Sie eine VPN-Verbindung aufbauen (siehe <a href="https://www.oth-regensburg.de/supportwiki/doku.php?id=public:netz:vpn-forticlient" target="_blank">https://www.oth-regensburg.de/supportwiki/doku.php?id=public:netz:vpn-forticlient</a>).</p>

    <p>Installieren Sie den SQL-Client DBeaver (<a href="https://dbeaver.io/" target="_blank">https://dbeaver.io/</a>) oder einen anderen Datenbank-Client und richten Sie dort eine Verbindung zu der folgenden PostgreSQL-Datenbank ein. Alternativ können Sie auch PostgreSQL lokal installieren und sich mit der Datenbank auf localhost verbinden.</p>
    <ul>
      <li>Host: hera.hs-regensburg.de</li>
      <li>Datenbank: Ihr Hochschul-Kürzel (z. B. xyz12345)</li>
      <li>Benutzer: Ihr Hochschul-Kürzel</li>
      <li>Passwort: Ihr Hochschul-Kürzel</li>
      <li>Schema: public (können Sie auswählen, nachdem Sie sich verbunden haben)</li>
    </ul>
    <p>Da das Passwort gleich Ihrem Benutzernamen ist, wird empfohlen, es mit <code>ALTER USER ihr_benutzername PASSWORD 'neues_passwort';</code> zu ändern.</p>
    <p>Formulieren Sie diese Anfragen mit SQL:</p>
    <table border="0" style="width: 100%">
        <tr><td>1.</td><td>Legen Sie die Tabelle &quot;Bestellung&quot; vom vorherigen Übungsblatt an. Sie finden das CREATE TABLE-Kommando dazu auch in der Lösung im GRIPS.</td></tr>
        <tr><td>2.</td><td>Fügen Sie eine neue Bestellung mit Bestellnummer 101 ein: Der Kunde peter@example.org bestellt am 5.5.2021 um 12:00:05 Uhr etwas für 49,50 EUR.</td></tr>
        <tr><td>3.</td><td>Zeigen Sie alle Bestellungen an.</td></tr>
        <tr><td>4.</td><td>Ändern Sie die Kundeninfo bei Bestellung 101 auf peter@example.com</td></tr>
        <tr><td>5.</td><td>Fügen Sie noch zwei weitere Bestellungen ein, eine weitere von peter@example.com und eine von ute@exampl.com. Wählen Sie selbst irgendwelche Werte für die Bestellnummer, die Zeit und den Preis. </td></tr>
        <tr><td>6.</td><td>Geben Sie alle Kunden aus, jeden aber nur einmal.</td></tr>
        <tr><td>7.</td><td>Löschen Sie die Bestellung 101.</td></tr>
        </table>
    </section>  


<script src="../lib/jquery.js"></script>
<script src="../lib/lodash.js"></script>
<script src="../lib/backbone.js"></script>
<script src="../lib/joint.min.js"></script>
<script type="text/javascript">
Reveal = document;
Reveal.registerPlugin = function(pluginname, plugin) {
    plugin.init()
};
Reveal.addEventListener = function(event, f) {
    if(event == 'ready') {
        f();
    }
}
</script>
<script type="text/javascript" src="../src/erd.js"></script>

</body>
</html>